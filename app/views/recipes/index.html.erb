<h1>Recipes</h1>

<table class="table">
  <thead>
    <tr>
      <th>Name</th>
      <th></th>
      <th></th>
      <th colspan="4"></th>
    </tr>
  </thead>

  <tbody id="recipes">
  </tbody>
</table>

<br>

<h2>Quick Meals</h2>

<table class="table">
  <thead>
    <tr>
      <th>Name</th>
      <th></th>
      <th></th>
      <th colspan="4"></th>
    </tr>
  </thead>

  <tbody id="quick_meals">
  </tbody>
</table>

<br>

<%= link_to 'New Recipe', new_recipe_path %>

<script type="text/javascript" charset="utf-8">
  $(document).ready(function() {
    $.getJSON("/recipes", function(data){
      $.each(data, function(i, recipe) {
        content = '<tr>'
        content = content + '<td>' + recipe.name + '</td>';
        content = content + '<td>' + '<a href="/recipes/' + recipe.id + '">Show</a></td>'
        content = content + '<td>' + '<a href="/recipes/' + recipe.id + '/edit">Edit</a></td>'
        content = content + '<td>' + '<a href="/recipes/' + recipe.id + ' data-method="DELETE">Delete</a></td>'
        content = content + '</tr>'
        $(content).appendTo("#recipes");
      });
    });
  });
</script>

<script type="text/javascript" charset="utf-8">
  $(document).ready(function() {
    $.getJSON("/recipes", function(data){
      $.each(data, function(i, recipe) {
        if (recipe.duration <= 30) {
          content = '<tr>'
          content = content + '<td>' + recipe.name + '</td>';
          content = content + '<td>' + '<a href="/recipes/' + recipe.id + '">Show</a></td>'
          content = content + '<td>' + '<a href="/recipes/' + recipe.id + '/edit">Edit</a></td>'
          content = content + '<td>' + '<a href="/recipes/' + recipe.id + ' data-method="DELETE">Delete</a></td>'
          content = content + '</tr>'
          $(content).appendTo("#quick_meals");
        }
      });
    });
  });
</script>
